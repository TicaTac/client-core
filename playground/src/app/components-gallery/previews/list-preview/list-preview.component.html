<dato-preview title="List - Simple">

  <section class="d-flex">
    <div class="select-preview">
      <div class="list-container">
        <dato-list [formControl]="simpleControl" [dataSet]="options" #datoList>

          <dato-group *ngFor="let group of datoList.data">
            <div groupLabel>{{group.label}}</div>

            <dato-option *ngFor="let option of group.children; index as index" [option]="option" multi>
              {{option.label}}
            </dato-option>

          </dato-group>

        </dato-list>
      </div>

      <p datoFont class="mt-10">Control value: <span class="code">{{simpleControl.value | json}}</span></p>

    </div>

  </section>
  <dato-tabs show="html">

    <textarea datoHighlight="html">
      <dato-list [formControl]="simpleControl" [dataSet]="options" #datoList>

          <dato-group *ngFor="let group of datoList.data">
            <div groupLabel>group.label</div>

            <dato-option *ngFor="let option of group.children; index as index" [option]="option" multi>
              option.label
            </dato-option>

          </dato-group>

        </dato-list>
    </textarea>

  </dato-tabs>
</dato-preview>


<dato-preview title="List - Accordion">

  <section class="d-flex">
    <div class="select-preview">
      <div class="list-container">
        <dato-list [formControl]="accordionControl" [dataSet]="options" #datoListAccordion accordion>
          <dato-accordion [expandAll]="true" [includeArrows]="true">
            <dato-accordion-group *ngFor="let group of datoListAccordion.data">
              <dato-accordion-header>
                <div class="header">{{group.label}}</div>
              </dato-accordion-header>
              <dato-accordion-content>
                <div class="content">
                  <dato-option *ngFor="let option of group.children; index as index" [option]="option" multi>
                    {{option.label}}
                  </dato-option>
                </div>
              </dato-accordion-content>
            </dato-accordion-group>
          </dato-accordion>
        </dato-list>
      </div>
      <p datoFont class="mt-10">Control value: <span class="code">{{accordionControl.value | json}}</span></p>

    </div>

  </section>
  <dato-tabs show="html">

    <textarea datoHighlight="html">
        <dato-list [formControl]="accordionControl" [dataSet]="options" #datoListAccordion accordion>
          <dato-accordion [expandAll]="true" [includeArrows]="true">
            <dato-accordion-group *ngFor="let group of datoListAccordion.data">
              <dato-accordion-header>
                <div class="header">group.label</div>
              </dato-accordion-header>
              <dato-accordion-content>
                <div class="content">
                  <dato-option *ngFor="let option of group.children; index as index" [option]="option" multi>
                    option.label
                  </dato-option>
                </div>
              </dato-accordion-content>
            </dato-accordion-group>
          </dato-accordion>
        </dato-list>
    </textarea>

  </dato-tabs>
</dato-preview>

<dato-preview title="List - With Scrolling">

  <section class="d-flex">
    <div class="select-preview">
      <div class="list-container-scrolling">
        <dato-list [formControl]="scrollingControl" [dataSet]="longOptions" #datoListWithScrolling>

          <dato-group *ngFor="let group of datoListWithScrolling.data">
            <div groupLabel>{{group.label}}</div>

            <dato-option *ngFor="let option of group.children; index as index" [option]="option" multi>
              {{option.label}}
            </dato-option>

          </dato-group>

        </dato-list>
      </div>

      <p datoFont class="mt-10">Control value: <span class="code">{{scrollingControl.value | json}}</span></p>

    </div>

  </section>
  <dato-tabs show="html">

    <textarea datoHighlight="html">
     <div class="list-container-scrolling">

      <dato-list [formControl]="scrollingControl" [dataSet]="longOptions" #datoListWithScrolling>

          <dato-group *ngFor="let group of datoListWithScrolling.data">
            <div groupLabel>group.label</div>

            <dato-option *ngFor="let option of group.children; index as index" [option]="option" multi>
              option.label
            </dato-option>

          </dato-group>

        </dato-list>
    </div>

    </textarea>

  </dato-tabs>
  <dato-tabs show="css">
    <textarea datoHighlight="css">
    .list-container-scrolling .dato-list__options {
    height: 250px;
      }
    </textarea>
  </dato-tabs>
</dato-preview>

<dato-preview title="List - Normalize Flattened Data">

  <section class="d-flex">
    <div class="select-preview">
      <div class="list-container">
        <dato-list [formControl]="flattenedControl" [dataSet]="flattenedOptions" [groupBy]="'group'"
                   #datoListWithFlattenedData>

          <dato-group *ngFor="let group of datoListWithFlattenedData.data">
            <div groupLabel>{{group.label}}</div>

            <dato-option *ngFor="let option of group.children; index as index" [option]="option" multi>
              {{option.label}}
            </dato-option>

          </dato-group>

        </dato-list>
      </div>
      <p datoFont class="mt-10">Control value: <span class="code">{{flattenedControl.value | json}}</span></p>

    </div>

  </section>
  <dato-tabs show="html">
<textarea datoHighlight="html">
      <dato-list [formControl]="flattenedControl" [dataSet]="flattenedOptions" [groupBy]="'group'"
                 #datoListWithFlattenedData>

          <dato-group *ngFor="let group of datoListWithFlattenedData.data">
            <div groupLabel>group.label</div>

            <dato-option *ngFor="let option of group.children; index as index" [option]="option" multi>
              option.label
            </dato-option>

          </dato-group>

        </dato-list>
    </textarea>

  </dato-tabs>
  <dato-tabs show="js">
    <textarea datoHighlight="js">
      flattenedOptions=[{ id: 1, label: 'abc', group: 'A' }, { id: 2, label: 'efg', group: 'A' }, { id: 3, label: 'hij', group: 'A' }, { id: 4, label: 'klm', group: 'B' }, { id: 5, label: 'nop', group: 'C' }];
    /** turned into:  [
    * { label: 'A',
    *   children: [
    *    { id: 1, label: 'abc', group: 'A' },
    *    { id: 2, label: 'efg', group: 'A' },
    *    { id: 3, label: 'hij', group: 'A' }
    *  ]},
    * { label: 'B',
    *   children: [
    *    { id: 4, label: 'klm', group: 'B' }
    *  ]},
    * { label: 'C',
    *   children: [
    *    { id: 5, label: 'nop', group: 'C' }
    *  ]}
    * ]
      */
    </textarea></dato-tabs>
</dato-preview>
