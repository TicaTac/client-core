<section cdkOverlayOrigin class="dato-select__trigger" [class.dato-select--disabled]="_disabled">

  <dato-input [class.force-hide]="(!open && isCombo) || !isCombo"
              [placeholder]="searchPlaceholder"
              [isFocused]="_focus"
              [isLoading]="isLoading"
              [formControl]="searchControl"
              type="search"></dato-input>

  <dato-trigger-single [active]="active"
                       [context]="_model[0]"
                       [class.force-hide]="open && isCombo"
                       [placeholder]="placeholder"
                       class="ontop-overlay"
                       (click)="openDropdown($event)"></dato-trigger-single>
</section>

<ng-template #dropdown>

  <section class="dato-select__dropdown-container">

    <header class="dato-select__header d-flex" *ngIf="isMulti && allowSelectAll" [class.force-hide]="_showEmptyResults">
      <dato-checkbox (check)="checkAll($event)" [checked]="_isAllChecked"></dato-checkbox>
      <div class="dato-select__option">Select all <span class="primary-300-color note-italic">{{_count}}</span></div>
    </header>

    <div class="dato-select__dropdown">

      <ng-content></ng-content>

      <dato-select-empty [show]="_showEmptyResults">{{noItemsLabel}}</dato-select-empty>

    </div>

    <footer class="dato-select__footer d-flex" *ngIf="_withActions">
      <dato-link class="mr-20" datoType="secondary" (click)="close()">Cancel</dato-link>
      <dato-button datoSize="sm" (click)="save.emit(); close();">Save</dato-button>
    </footer>

  </section>

</ng-template>
